<div class="page-wrapper" [ngClass]="{ 'toggled': activeSidebar }">
    <app-sidebar/>

    <main class="page-content bg-gray-50 dark:bg-slate-800">
        <app-topbar (toggleClass)="toggleClass()"/>

        <div class="container-fluid relative px-3">
            <div class="layout-specing">
                <div class="flex justify-between items-center">
                    <div>
                        <h5 class="text-xl font-semibold">Hello, {{user.name_text}}</h5>
                        <h6 class="text-slate-400">Welcome back!</h6>
                    </div>
                </div>

                <app-about/>

                <div class="grid lg:grid-cols-12 grid-cols-1 mt-6 gap-6">
                    <div class="lg:col-span-8">
                        <div class="relative overflow-hidden rounded-md shadow dark:shadow-gray-700 bg-white dark:bg-slate-900">
                            <div class="p-6 flex items-center justify-between border-b border-gray-100 dark:border-gray-800">
                                <h6 class="text-lg font-semibold">Revenue Analytics</h6>

                                <div class="position-relative">
                                    <select class="form-select form-input w-full py-2 h-10 bg-white dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 focus:border-gray-200 dark:border-gray-800 dark:focus:border-gray-700 focus:ring-0" id="yearchart">
                                        <option value="Y" selected>Yearly</option>
                                        <option value="M">Monthly</option>
                                        <option value="W">Weekly</option>
                                        <option value="T">Today</option>
                                    </select>
                                </div>
                            </div>
                            <app-analytics/>
                        </div>
                    </div>

                    <div class="lg:col-span-4">
                        <div class="relative overflow-hidden rounded-md shadow dark:shadow-gray-700 bg-white dark:bg-slate-900">
                            <div class="p-6 flex items-center justify-between border-b border-gray-100 dark:border-gray-800">
                                <h6 class="text-lg font-semibold">Sales Data</h6>

                                <div class="position-relative">
                                    <select class="form-select form-input w-full py-2 h-10 bg-white dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 focus:border-gray-200 dark:border-gray-800 dark:focus:border-gray-700 focus:ring-0" id="yearchart">
                                        <option value="Y" selected>Yearly</option>
                                        <option value="M">Monthly</option>
                                        <option value="W">Weekly</option>
                                        <option value="T">Today</option>
                                    </select>
                                </div>
                            </div>

                            <div class="p-6 pt-1">
                                <div *ngFor="let item of saleData" class="mt-5">
                                    <div class="flex justify-between mb-2">
                                        <span class="text-slate-400">{{item.title}}</span>
                                        <span class="text-slate-400">{{item.value}}</span>
                                    </div>
                                    <div class="w-full bg-gray-100 dark:bg-gray-800 rounded-full h-[6px]">
                                        <div class="bg-green-600 h-[6px] rounded-full" style.width={{item.value}}></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid lg:grid-cols-12 grid-cols-1 mt-6 gap-6">
                    <div class="xl:col-span-3 lg:col-span-6 order-1">
                        <div class="relative overflow-hidden rounded-md shadow dark:shadow-gray-700 bg-white dark:bg-slate-900">
                            <div class="p-6 flex items-center justify-between border-b border-gray-100 dark:border-gray-800">
                                <h6 class="text-lg font-semibold">Area Map</h6>

                                <span class="text-slate-400">Last update 5 days ago</span>
                            </div>

                            <div class="p-6">
                                <div id="map" class="w-full h-[236px]"></div>
                            </div>
                        </div>
                    </div>

                    <div class="xl:col-span-6 lg:col-span-12 xl:order-2 order-3">
                        <div class="relative overflow-hidden rounded-md shadow dark:shadow-gray-700 bg-white dark:bg-slate-900">
                            <div class="p-6 flex items-center justify-between border-b border-gray-100 dark:border-gray-800">
                                <h6 class="text-lg font-semibold">Recent Transections</h6>

                                <a [routerLink]="[]" class="btn btn-link font-normal text-slate-400 hover:text-green-600 after:bg-green-600 transition duration-500">View orders <i class="mdi mdi-arrow-right ms-1"></i></a>
                            </div>

                            <div class="relative overflow-x-auto block w-full xl:max-h-[284px] max-h-[350px]" data-simplebar>
                                <table class="w-full text-start">
                                    <thead class="text-base">
                                        <tr>
                                            <th class="text-start font-semibold text-[15px] px-4 py-3"></th>
                                            <th class="text-start font-semibold text-[15px] px-4 py-3 min-w-[140px]">Date</th>
                                            <th class="text-start font-semibold text-[15px] px-4 py-3 min-w-[120px]">Name</th>
                                            <th class="text-start font-semibold text-[15px] px-4 py-3">Price</th>
                                            <th class="text-start font-semibold text-[15px] px-4 py-3 min-w-[40px]">Type</th>
                                            <th class="text-end font-semibold text-[15px] px-4 py-3 min-w-[70px]">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of transection">
                                            <th class="text-start border-t border-gray-100 dark:border-gray-800 px-4 py-3 font-semibold">
                                                <div class="relative md:shrink-0">
                                                    <img [src]="item.image" class="object-cover size-12 min-w-[48px] rounded-md shadow dark:shadow-gray-700" alt="">
                                                </div>
                                            </th>
                                            <td class="text-start border-t border-gray-100 dark:border-gray-800 px-4 py-3">
                                                <span class="text-slate-400">{{item.date}}</span>
                                            </td>
                                            <th class="text-start border-t border-gray-100 dark:border-gray-800 px-4 py-3 font-semibold">{{item.name}}</th>
                                            <td class="text-start border-t border-gray-100 dark:border-gray-800 px-4 py-3">
                                                <span class="text-slate-400">{{item.price}}</span>
                                            </td>
                                            <th class="text-start border-t border-gray-100 dark:border-gray-800 px-4 py-3 font-semibold">{{item.type}}</th>
                                            <ng-container *ngIf="item.status === 'Paid'; else elseTemplate">
                                                <td class="text-end border-t border-gray-100 dark:border-gray-800 px-4 py-3">
                                                    <span class="bg-emerald-600/10 dark:bg-emerald-600/20 border border-emerald-600/10 dark:border-emerald-600/20 text-emerald-600 text-[15px] font-medium px-2.5 py-0.5 rounded h-5 ms-1">Paid</span>
                                                </td>
                                            </ng-container>
                                            <ng-template #elseTemplate>
                                                <td class="text-end border-t border-gray-100 dark:border-gray-800 px-4 py-3">
                                                    <span class="bg-red-600/10 dark:bg-red-600/20 border border-red-600/10 dark:border-red-600/20 text-red-600 text-[15px] font-medium px-2.5 py-0.5 rounded h-5 ms-1">Unpaid</span>
                                                </td>
                                            </ng-template>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="xl:col-span-3 lg:col-span-6 xl:order-3 order-2">
                        <div class="relative overflow-hidden rounded-md shadow dark:shadow-gray-700 bg-white dark:bg-slate-900">
                            <div class="p-6 flex items-center justify-between border-b border-gray-100 dark:border-gray-800">
                                <h6 class="text-lg font-semibold">Top Properties</h6>

                                <a [routerLink]="[]" class="btn btn-link font-normal text-slate-400 hover:text-green-600 after:bg-green-600 transition duration-500">See More <i class="mdi mdi-arrow-right ms-1"></i></a>
                            </div>

                            <div class="relative overflow-x-auto block w-full max-h-[284px] p-6 pt-2" data-simplebar>
                                <div *ngFor="let item of topProperties" class="flex justify-between items-center mt-4">
                                    <div class="flex items-center">
                                        <div class="relative md:shrink-0">
                                            <img [src]="item.image" class="object-cover size-14 min-w-[56px] rounded-md shadow dark:shadow-gray-700" alt="">
                                        </div>

                                        <div class="ms-2">
                                        <a [routerLink]="[]" class="font-medium hover:text-green-600 block text-lg">{{item.name}}</a>
                                            <span class="text-slate-400">{{item.place}}</span>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="item.status === 'loss'; else elseTemplate">
                                        <span class="w-20 text-red-600 text-end"><i class="mdi mdi-arrow-bottom-right"></i> 11%</span>
                                    </ng-container>
                                    <ng-template #elseTemplate>
                                        <span class="w-20 text-emerald-600 text-end"><i class="mdi mdi-arrow-top-right"></i> 20%</span>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <app-footer/>
    </main>
</div>